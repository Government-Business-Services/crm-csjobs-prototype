{% extends "layouts/main.html" %}

{% set showBackLink = false %}
{% set showNavLinks = true %}

{% set pageHeading = "Reference Request" %}
{% set pageSection = "" %}

{% block content %}

<div class="govuk-grid-row">
    <div class="govuk-grid-column-one-third">    
        {% include "includes/nav.html" %}
    </div>
    
    <div class="govuk-grid-column-two-thirds">    
    
        <h1 class="govuk-heading-l govuk-!-padding-top-4">References</h1>
        <p>As part of the recruitment process, you are required to provide 3 referees.</p>        
        <!-- <p>We may contact these referees to ask them to give us a reference about you.</p>     -->
        <p>You should ask your referees for their consent before supplying their name and email address to us.</p>
        
        <div class="govuk-inset-text">
            <p>An employer or academic referee:</p>
            <ul class="govuk-list govuk-list--bullet">          
                <li>must be from within the last 3 years</li>      
                <li>must not be a member of your family or related to you in any way</li>                
            </ul>

            <p>Any other referee:</p>
            <ul class="govuk-list govuk-list--bullet">          
                <li>must have known you for more than 3 years</li>      
                <li>must not be a member of your family or related to you in any way</li>
                 
                <li>can be someone you’ve previously worked with</li>
            </ul>
        </div>        


        <form method="post" action="/candidate/declaration?navpage=dec"
        <h2 class="govuk-heading-m">First Referee</h2>                    
        
        <!-- First Referee Question -->
        <!-- Conditionals -->
        {% set academicHtml %}
        {{ govukRadios({
            name: "refOneRelationship",        
            fieldset: {
                legend: {
                    text: "What is this referee’s relationship to you?",
                    isPageHeading: false,
                    classes: "govuk-fieldset__legend"
                }
            },
            items: [
                { value: "Employer", text: "Employer", checked: checked, checked: checked("refOneRelationship", "Employer") },          
                { value: "Academic", text: "Academic", checked: checked, checked: checked("refOneRelationship", "Academic") }          
            ]
        }) }}        

        {{ govukInput({
            label: { text: "Full name", classes: "govuk-label",isPageHeading: false },      
            classes: "govuk-!-width-two-thirds",
            id: "refOneName",
            name: "refOneName",
            value: data['refOneName']
        }) }}

        {{ govukInput({
            label: { text: "Email address", classes: "govuk-label",isPageHeading: false },      
            classes: "govuk-!-width-two-thirds",    
            hint: {
                text: "We’ll only use this to ask for the reference."
            },    
            id: "refOneEmail",
            name: "refOneEmail",
            value: data['refOneEmail']
        }) }}

            {% if data['showPhone'] == "Yes" %}
                {{ govukInput({
                    label: { text: "Telephone number", classes: "govuk-label",isPageHeading: false },      
                    classes: "govuk-!-width-one-half",
                    hint: {
                        html: "This must be a UK landline or mobile. <br>For example, +44 020 7450 4000 or 07771 900 900"
                    },
                    id: "refOnePhone",
                    name: "refOnePhone",
                    value: data['refOnePhone']
                }) }}
            {% endif %}
        {% endset -%}

        {% set nonAcademicHtml %}

            {% set otherOneHtml %}                
            {{ govukInput({
                id: "refOneRelationshipOther",
                name: "refOneRelationshipOther",                
                value: data['refOneRelationshipOther'],                                
                classes: "govuk-!-width-two-thirds",
                label: {
                    text: "Other relationship to referee",
                    classes: "govuk-visually-hidden"
                },
                hint: {
                    text: "For example, doctor, pastor or tutor."
                }

            }) }}            
            {% endset -%}
            <!-- First referee relationship -->
            {{ govukRadios({
                name: "refOneRelationship",        
                fieldset: {
                    legend: {
                        text: "Please provide a referee who is one of the following",
                        isPageHeading: false,
                        classes: "govuk-fieldset__legend"
                    }
                },
                items: [
                    { value: "Friend", text: "Friend", checked: checked("refOneRelationship", "Friend") },          
                    { value: "Someone you worked with", text: "Someone you worked with", checked: checked("refOneRelationship", "Someone you worked with") },
                    { value: "Other manager", text: "Other", conditional: { html: otherOneHtml}, checked: checked("refOneRelationship", "Other manager") } 
                ]
            }) }}
            <!-- First referee name -->
            {{ govukInput({
                label: { text: "Full name", classes: "govuk-label",isPageHeading: false },      
                classes: "govuk-!-width-two-thirds",
                id: "refOneNameAlt",
                name: "refOneNameAlt",
                value: data['refOneNameAlt']
            }) }}
            <!-- First referee email -->
            {{ govukInput({
                label: { text: "Email address", classes: "govuk-label",isPageHeading: false },      
                classes: "govuk-!-width-two-thirds",
                hint: {
                    text: "We’ll only use this to ask for the reference."
                },
                id: "refOneEmailAlt",
                name: "refOneEmailAlt",
                value: data['refOneEmailAlt']
            }) }}
            <!-- First referee phone -->
            {% if data['showPhone'] == "Yes" %}
                {{ govukInput({
                    label: { text: "Telephone number", classes: "govuk-label",isPageHeading: false },      
                    classes: "govuk-!-width-one-half",
                    hint: {
                        html: "This must be a UK landline or mobile. <br>For example, +44 020 7450 4000 or 07771 900 900"
                    },                    
                    id: "refOnePhone",
                    name: "refOnePhone",
                    value: data['refOnePhone']
                }) }}
            {% endif %}

        {% endset -%}
        <!-- // End of conditionals -->
        
        <!-- First referee provide Employer or Academic -->
        {{ govukRadios({
            name: "refOneProvide",        
            fieldset: {
                legend: {
                    text: "Can you provide an employer or academic referee from the last 3 years?",
                    isPageHeading: false,
                    classes: "govuk-fieldset__legend"
                }
            },
            hint: {
                text: "If you were self-employed, unemployed or out of work for another reason for the last 3 years, select No and provide an alternative referee."
            },
            items: [
                { value: "Yes", text: "Yes", conditional: { html: academicHtml }, checked: checked("refOneProvide", "Yes") },
                { value: "No", text: "No", conditional: { html: nonAcademicHtml }, checked: checked("refOneProvide", "No") }         
            ]
        }) }}
        <!-- // End of referee one -->

        <!-- Second Referee -->                        
        <h2 class="govuk-heading-m govuk-!-margin-top-7">Second Referee</h2>

        <!-- Conditionals -->
        {% set otherTwoHtml %}            
            {{ govukInput({
                id: "refTwoRelationshipOther",
                name: "refTwoRelationshipOther",
                type: "text",                                
                value: data['refTwoRelationshipOther'],
                classes: "govuk-!-width-two-thirds",
                label: {
                    text: "Other relationship to referee",
                    classes: "govuk-visually-hidden"
                },
                hint: {
                    text: "For example, pastor, tutor or doctor."
                }
            }) }}        
        {% endset -%}
        <!-- Second referee relationship -->
        {{ govukRadios({
            name: "refTwoRelationship",        
            fieldset: {
                legend: {
                    text: "What is your relationship to this referee?",
                    isPageHeading: false,
                    classes: "govuk-fieldset__legend"
                }
            },
            items: [                    
                { value: "Friend", text: "Friend", checked: checked("refTwoRelationship", "Friend") },
                { value: "Someone you worked with", text: "Someone you worked with", checked: checked("refTwoRelationship", "Someone you worked with") },
                { value: "Other", text: "Other" , conditional: { html: otherTwoHtml }, checked: checked("refTwoRelationship", "Other") }
            ]
        }) }}        
        <!-- Second referee name -->
        {{ govukInput({
            label: { text: "Full name", classes: "govuk-label",isPageHeading: false },      
            classes: "govuk-!-width-two-thirds",
            id: "refTwoName",
            name: "refTwoName",
            value: data['refTwoName']
        }) }}
        <!-- Second referee email -->
        {{ govukInput({
            label: { text: "Email address", classes: "govuk-label",isPageHeading: false },      
            classes: "govuk-!-width-two-thirds",        
            id: "refTwoEmail",
            name: "refTwoEmail",
            value: data['refTwoEmail']
        }) }}
        <!-- Second referee phone -->
        {% if data['showPhone'] == "Yes" %}
        {{ govukInput({
            label: { text: "Telephone number", classes: "govuk-label",isPageHeading: false },      
            classes: "govuk-!-width-one-half",
            hint: {
                html: "This must be a UK landline or mobile. <br>For example, +44 020 7450 4000 or 07771 900 900"
            },        
            id: "refTwoPhone",
            name: "refTwoPhone",
            value: data['refTwoPhone']
        }) }}
        {% endif %}
            
        <!-- // End of Referee Two -->
        <!-- ///////////////////////////////////////////////// -->
       

        
        <!-- Third referee question -->
        <h2 class="govuk-heading-m govuk-!-margin-top-7">Third Referee</h2>
        <!-- <div class="govuk-inset-text">
            <p>To avoid a delay in your application we require a third referee who can be used if we are not able to reach the other two referees.</p>
        </div> -->

        <!-- Conditionals -->
        {% set otherHtml %}            
        {{ govukInput({
            id: "refThreeRelationshipOther",
            name: "refThreeRelationshipOther",
            type: "text",
            value: data['refThreeRelationshipOther'],                        
            classes: "govuk-!-width-two-thirds",
            label: {
                text: "Other relationship to referee",
                classes: "govuk-visually-hidden"
            },
            hint: {
                text: "For example, pastor, tutor or doctor."
            }
        }) }}
        {% endset -%}
        <!-- // End of conditionals -->

        <!-- Third referee relationship -->
        {{ govukRadios({
            name: "refThreeRelationship",        
            fieldset: {
                legend: {
                    text: "What is your relationship to this referee?",
                    isPageHeading: false,
                    classes: "govuk-fieldset__legend"
                }
            },
            items: [                
                { value: "Friend", text: "Friend", checked: checked("refThreeRelationship", "Friend") },
                { value: "Someone you worked with", text: "Someone you worked with", checked: checked("refThreeRelationship", "Someone you worked with") },
                { value: "Other", text: "Other", conditional: { html: otherHtml }, checked: checked("refThreeRelationship", "Other") }
            ]
        }) }}
        <!-- Third referee name -->
        {{ govukInput({
            label: { text: "Full name", classes: "govuk-label",isPageHeading: false },      
            classes: "govuk-!-width-two-thirds",
            id: "refThreeName",
            name: "refThreeName",
            value: data['refThreeName']
        }) }}
        <!-- Third referee email -->
        {{ govukInput({
            label: { text: "Email address", classes: "govuk-label",isPageHeading: false },      
            classes: "govuk-!-width-two-thirds",        
            id: "refThreeEmail",
            name: "refThreeEmail",
            value: data['refThreeEmail']
        }) }}
        <!-- Third referee phone -->
        {% if data['showPhone'] == "Yes" %}
        {{ govukInput({
            label: { text: "Telephone number", classes: "govuk-label",isPageHeading: false },
            classes: "govuk-!-width-one-half",
            hint: {
                html: "This must be a UK landline or mobile. <br>For example, +44 020 7450 4000 or 07771 900 900"
            },
            id: "refThreePhone",
            name: "refThreePhone",
            value: data['refThreePhone']
        }) }}
        {% endif %}

        <div class="govuk-inset-text govuk-!-margin-top-9">
            <h2 class="govuk-heading-m">Before you continue</h2>
            <p>By providing these referees you are confirming that they are not a member of your family or related to you in any way.</p>
            <p>We will only contact referees if we need to. We are asking for them in advance to avoid any delays in your pre-employment checks.</p>
            <p>We will ask them to provide a reference for the name that you have applied under.</p>
        </div>


        <div class="govuk-button-group">
            
            {{ govukButton({
                text: "Back",
                href: "/candidate/employment-history?navpage=eh",
                classes: "govuk-button--secondary"
            }) }}       
            {{ govukButton({
                text: "Confirm and continue",
                classes: "govuk-!-margin-top-5"                  
            }) }}
        
        </div>
      
    
  
</div>
</div>

{% endblock %}


